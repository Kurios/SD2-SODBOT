"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("dotenv/config");
var misc_1 = require("./commands/misc");
var help_1 = require("./commands/help");
var player_1 = require("./commands/player");
var admin_1 = require("./commands/admin");
var matchup_1 = require("./commands/matchup");
var common_1 = require("./general/common");
var discordBot_1 = require("./general/discordBot");
var smp = require("source-map-support");
var http = require("http");
var logs_1 = require("./general/logs");
var db_1 = require("./general/db");
var api_1 = require("./api/api");
var division_1 = require("./commands/division");
var map_1 = require("./commands/map");
var p = require("../package.json");
common_1.CommonUtil.init();
var database = new db_1.DB();
logs_1.Logs.init();
smp.install();
logs_1.Logs.log("Starting Bot");
var bot = new discordBot_1.DiscordBot(database);
var adminCommand = new admin_1.AdminCommand(database);
var miscCommand = new misc_1.MiscCommand(database);
var playerCommand = new player_1.PlayerCommand(database);
var divCommand = new division_1.DivisionCommand();
var mapCommand = new map_1.MapCommand();
var helpCommand = new help_1.HelpCommand();
var matchCommand = new matchup_1.MatchupCommand();
adminCommand.addCommands(bot);
miscCommand.addCommands(bot);
playerCommand.addCommands(bot);
divCommand.addCommands(bot);
mapCommand.addCommands(bot);
helpCommand.addCommands(bot);
matchCommand.addCommands(bot);
bot.login();
var healthcheck = http.createServer(function (req, res) {
    logs_1.Logs.log(req);
    res.write("pong");
    res.end();
});
logs_1.Logs.log("Starting healthcheck server on 8080, version ".concat(p.version));
//healthcheck.listen(8080);
var api = new api_1.API(database);
api.start();
//# sourceMappingURL=main.js.map